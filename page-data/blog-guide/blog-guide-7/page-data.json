{"componentChunkName":"component---src-components-post-template-index-js","path":"/blog-guide/blog-guide-7/","webpackCompilationHash":"fb50f74ef8fc4b66be0d","result":{"data":{"markdownRemark":{"html":"<h2 id=\"đọc-bài-blog-và-đưa-lên-page\"><a href=\"#%C4%91%E1%BB%8Dc-b%C3%A0i-blog-v%C3%A0-%C4%91%C6%B0a-l%C3%AAn-page\" aria-label=\"đọc bài blog và đưa lên page permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Đọc bài blog và đưa lên page.</h2>\n<p>Trước tiên hãy cài đặt plugin của Gatsby:\n<code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> gatsby-transformer-remark gatsby-remark-images</code></p>\n<p>Khi tôi làm đến đây, trong thư mục <code class=\"language-text\">posts</code> của mình đã có 7 bài blog rồi. Nhưng vì các bạn chưa có bài nào cả, nên chúng ta hãy cùng tạo một bài blog demo.</p>\n<p>Tạo một thư mục con tên là <code class=\"language-text\">demo</code> ở trong này. Đưa vào trong đó một file <code class=\"language-text\">index.md</code></p>\n<p><em>md?</em></p>\n<p>MD là viết tắt cho Markdown. Đây là một ngôn ngữ viết file Markup (file có đánh dấu các thành phần của nó, HTML là một) có thể được dễ dàng dịch sang HTML. Bạn nào dùng git nhiều rồi thì sẽ quen với file Readme.md, nhưng nếu không thì cũng không quan trọng, bây giờ thì chỉ cần viết theo mình thôi. Nếu các bạn cần tìm hiểu kỹ, hãy google Markdown syntax</p>\n<p>Bây giờ điền vào file <code class=\"language-text\">index.md</code> này đoạn code sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown line-numbers\"><code class=\"language-markdown\"><span class=\"token hr punctuation\">---</span>\ndate: 2019-03-01  \n<span class=\"token title important\">title: \"Demo Blog Post\"  \n<span class=\"token punctuation\">---</span></span>\n\n<span class=\"token title important\"><span class=\"token punctuation\">#</span> My first blog post!</span>\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sodales, erat a cursus iaculis, ante eros tempor eros, nec rhoncus augue ex gravida orci. Vestibulum a faucibus neque. Vivamus quis sem ut justo consequat commodo. Sed sit amet orci vel orci semper egestas. Curabitur et porta lorem. Integer condimentum, purus eu posuere congue, justo tellus facilisis justo, sit amet fermentum nulla velit non sem. Cras ultricies imperdiet est, eget blandit tortor pulvinar quis. Ut quis felis dui.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Thêm đoạn sau đây vào mục <code class=\"language-text\">plugins</code> file <code class=\"language-text\">gatsby-config.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  resolve<span class=\"token operator\">:</span> `gatsby-source-filesystem`<span class=\"token punctuation\">,</span>\n  options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> `$<span class=\"token punctuation\">{</span>__dirname<span class=\"token punctuation\">}</span>/src/posts/`<span class=\"token punctuation\">,</span>\n      name<span class=\"token operator\">:</span> <span class=\"token string\">\"pages\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span>\n    resolve<span class=\"token operator\">:</span> `gatsby-transformer-remark`<span class=\"token punctuation\">,</span>\n    options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          resolve<span class=\"token operator\">:</span> `gatsby-remark-images`<span class=\"token punctuation\">,</span>\n          options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            maxWidth<span class=\"token operator\">:</span> <span class=\"token number\">590</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"graphql-graphiql\"><a href=\"#graphql-graphiql\" aria-label=\"graphql graphiql permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GraphQL, GraphiQL</h2>\n<p>Khi đọc các bài blog từ file markdown, Gatsby sẽ dịch nó thành HTML và lưu thông tin này vào dưới dạng các node tương tự như dữ liệu trong một Database và có thể truy vấn được bằng GraphQL</p>\n<p>GraphQL về cơ bản là một chuẩn viết API (giống REST). Khi Gatsby tạo được danh sách resource (bài blog, ảnh ...), code frontend của bạn có thể đọc nó bằng các query GraphQL.</p>\n<p>GraphiQL là một GUI để bạn test các query. Với Gatsby, bạn có thể truy cập GraphiQL ở <code class=\"language-text\">localhost:8000/___graphql</code></p>\n<p>Nếu bạn làm đúng theo những bước vừa rồi, chúng ta có thể query được bài blog theo cách như sau:</p>\n<ul>\n<li>Truy cập <code class=\"language-text\">localhost:8000/___graphql</code></li>\n<li>Nhập đoạn code sau vào mục bên tay trái:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$title</span><span class=\"token punctuation\">:</span> String<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    markdownRemark<span class=\"token punctuation\">(</span><span class=\"token attr-name\">frontmatter</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token attr-name\">title</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token attr-name\">eq</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$title</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        html\n        frontmatter <span class=\"token punctuation\">{</span>\n            date\n            title\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Bấm vào dòng \"Query Variable\" ở dưới bên tay trái, sẽ có một ô nhập liệu hiện ra. Điền đoạn code sau vào ô đó:</p>\n<div class=\"gatsby-highlight\" data-language=\"json5\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json5 line-numbers\"><code class=\"language-json5\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property unquoted\">title</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Demo Blog Post\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Chạy Query, bạn sẽ nhận được thông tin về bài viết của bạn, trông giống như sau:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4c1a950713b5e6c667d8049304c50155/8d0ff/query.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABG0lEQVQoz32S226EIBRF/f9PbJOmfbDOOKNc5Kro7gHDjGgVXTlEZbHJsfqtazRNg+fjmWA9A+ccQoiCnp53jKGnd73g77qh7XpUVhvUHYccNIKfEaYZfvQIIQAL3cuCeMlOoKlpwzvD8BArLS9QnUTlnIMnCa07jChDEgKKFrQfDRgxfN4gv+6Q3y2GnwfN23VO31Te+7x6TbMjizWd5EYpeUxC6ZRQUMYWaOtQjeP4ToOjKFdlDAydRlMA7SIuCQpIWgivEhprD4n+4yW8GlthTJKrznVDaso0TamrYQ5rLaDOhyktVieSQhj/MSkljNKwlGJP3NBaA6V1me5M6LzDTMngiXk5O3Rx5EvhqymZfWPyb5OELtUr4R+7cFjRVUg2fQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"query\"\n        title=\"query\"\n        src=\"/static/4c1a950713b5e6c667d8049304c50155/b9e4f/query.png\"\n        srcset=\"/static/4c1a950713b5e6c667d8049304c50155/cf440/query.png 148w,\n/static/4c1a950713b5e6c667d8049304c50155/d2d38/query.png 295w,\n/static/4c1a950713b5e6c667d8049304c50155/b9e4f/query.png 590w,\n/static/4c1a950713b5e6c667d8049304c50155/f9b6a/query.png 885w,\n/static/4c1a950713b5e6c667d8049304c50155/2d849/query.png 1180w,\n/static/4c1a950713b5e6c667d8049304c50155/8d0ff/query.png 1440w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Vậy chúng ta có thể đọc được thông tin của các bài blog. Trong bài tiếp theo chúng sẽ đưa nó vào trong trang web.</p>","frontmatter":{"date":"2019-04-25T00:00:00.000Z","title":"Mình đã làm trang blog này như thế nào (Phần 7)?","keyword":["react","programming","guide"],"description":"Làm thế nào để viết được blog dưới định dạng Markdown."},"fields":{"slug":"/blog-guide/blog-guide-7/"},"tableOfContents":"<ul>\n<li><a href=\"/blog-guide/blog-guide-7/#%C4%91%E1%BB%8Dc-b%C3%A0i-blog-v%C3%A0-%C4%91%C6%B0a-l%C3%AAn-page\">Đọc bài blog và đưa lên page.</a></li>\n<li><a href=\"/blog-guide/blog-guide-7/#graphql-graphiql\">GraphQL, GraphiQL</a></li>\n</ul>"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"older":{"frontmatter":{"title":"Mình đã làm trang blog này như thế nào (Phần 5)?","date":"2019-04-24T00:00:00.000Z","description":"Sử dụng React Context để thay đổi theme","keyword":["react","programming","guide"]},"fields":{"slug":"/blog-guide/blog-guide-5/","readingTime":{"text":"3 min read"}}},"newer":{"frontmatter":{"title":"Mình đã làm trang blog này như thế nào (Phần 8)?","date":"2019-04-26T00:00:00.000Z","description":"Tạo trang blog từ những file bài blog?","keyword":["react","programming","guide"]},"fields":{"slug":"/blog-guide/blog-guide-8/","readingTime":{"text":"3 min read"}}},"series":"blog-guide"}}}